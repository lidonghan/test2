硬盘引导型故障分析及排除 


　　硬盘是存储信息的重要介质，当硬盘出现故障后，迅速找准故障原因并排除是一项极其重要的工作，这里把病毒以外的故障分析如下，供参考：
　　1、HDD controller failure(硬盘驱动器控制失败)
　　POST程序向驱动器发出寻道命令后，驱动器在规定时间内，没有完成操作而产生超时错误。
　　C:drive faiIure(硬盘C驱动失败)
　　RUN SETUP UTTLITY(运行设置功能)
　　Pressto Resume(按键重新开始)
　　这种故障一般是因为硬盘的类型设置参数与原格式化时所用的参数不符。由于IDE硬盘的设置参数是逻辑参数，所以多数情况下由软盘启动后，C盘能够正常读写，只是不能启动。
　　2、故障信息：lnvalid Drive Specification(无效的驱动器指定)
　　这是说明你欲操作的分区或是逻辑驱动器在分区表中根本没有定义。如果一个分区或是逻辑驱动器在分区表里的相应表项已不存在，那么对于操作系统来说，该分区或逻辑驱动器也就不存在了。这种故障，问题一定首先出在分区表。修复这类故障，最简单的方法是事先做好分区表的备份，比如可用Pctools9.0的Bootsafe工具，当然也可以根据BPB表内的数据重新计算分区表，但比较复杂。
　　3、Ertor Loading Operation System(装载操作系统错误)
　　这类故障是在读取分区引导扇区(BOOT区)出错时提示的。可能的原因有：第一、分区表指示的分区起始物理地址不正确。比如，把分区表项第三字节(起始扇区号)由1改为0，即指示该分区的起始地址为指示磁头、指定磁道上的第0个扇区(此处为物理地址，扇区应由1开始)，INT 13H读盘失败后，即报此错。第二、分区引导扇区所在磁道的磁道标志和扇区ID损坏，找不到指定扇区。第三、驱动器读电路故障。这种情况比较少见，多数是随机性读错误，因为系统引导能进行到此处，至少说明已正确地读出了一个主引导扇区。
　　4、不能进入系统，如有软驱，则由A驱引导，显示：
　　DRIVE NOT READY ERROR(设备未准备好)
　　Insert Boot Diskette in A：(插入引导盘到A驱)
　　Press any key when ready(准备好后按任意键)
　　BIOSPOST结束后，如果由硬盘引导，系统将固定读取硬盘0面0道1扇区，寻找主引导程序和分区表。所以，任何用软件的方法试图避开硬盘损坏的0面0道，而能够成功引导操作系统的作法，均是不可能的！除非你改写系统BIOS中INT 19H的有关指令。
　　INT 19H读取主引导扇区的失败原因有：第一，硬盘读电路故障，使读操作失败，属硬件故障；第二，0面0道磁道格式和扇区ID逻辑或物理损坏，找不到指定的扇区；第三，读盘没有出错，但读出的MBR尾标不为“55AA”，系统认为MBR不正确，这是软故障。
　　5、Non－System Disk or Disk Ertor
　　Replace And press any key when ready(非系统盘或磁盘错误，重新放置后按任意键)
　　DOS BOOT区中的引导程序执行后发现错误，报此信息。可能的原因：驱动器复位失败、根目录区第一扇区地址出界(在544M之后)、读盘出错。此类故障大多为软件故障，如果BPB表损坏，即用软盘启动后，硬盘不能正常读写，可以用NDD修复；如果BPB表完好，只需简单的SYS C：传送系统就引导驱动器，如果失败，则得示：
　　Disk Boot Failure(磁盘引导失败)
　　6、NO ROM BASIC(没有固化BASIC)
　　SYSTEM HALT(系统停机)
　　这是相当古老的机器才会出现的提示，主引导程序的作用，就是在分区表的四个表项中找出一个激活分区(可自举分区)。如果四个表项中没有一个是激活分区，系统就不知从何处引导操作系统，只能执行INT 188H，调用固化BASIC程序，如果没有固化BASIC，就会引起死机。最简单的修复方法，是用FDISK的第二项功能：Set activeparti－tion(设置激活分区)，去指定一个可自举分区。
　　7、显示“Starting MS－DOS...”然后死机
　　在恢复硬盘不能引导型软故障时，值得注意的最后一点，是CONFIG.SYS和AUTOEXC.BAT中的可执行文件本身已经损坏，使得系统在执行到此文件时死机，屏幕上提示：“Starting MS－DOS……”，然后死机。这个故障非常简单，但因为没有什么故障信息，一般人很容易误判为系统文件损坏。当出现这种现象，并且确信系统文件是完好的，就可以取掉这两文件，或者在屏幕上出现以上信息，快速按下键或按住键(中断CONFIG.SYS安装和AUTOEXEC.BAT执行)，或者按下键(单步执行CONFIG.SYSJ里的命令)，找出已经损坏的文件。
　　8、Invalid Partition table(无效的分区表)
　　找到激活分区后，主引导程序还将判断余下三个表项的“分区引导标志”字节(首字节)是否均为0，即确认是否只有唯一的激活分区，如果有一个不为0(正常值只可能为00H和80H)，系统就报错并死机。
　　9、Bad or missing Command Interpreter
　　Enter cortect name or Command Interpreter(命令处理程序错误，请输入正确的文件名)
　　系统在根目录和指定的目录下找不到命令处理程序，要求用户输入正确的路径和文件名，你可以在提示符下进行输入，比如：C:\DOS\COMMAND.COM。
　　10、Invalid Media Type Reading Gnive X
　　Abort Retry，Fail(读X驱动器介质类型无效)
　　这条信息是针对DOS BOOT区中无效的BPB表而提示的。BPB表是DOS读写硬盘所用的逻辑地址，换算成物理地址的桥梁，BPB表损坏，会使DOS对磁盘的操作无从谈起。
　　硬盘的引导型软故障，可以由框图所示的顺序进行逐项检查：主引导扇区中的主引导程序―分区BOOT区中的引导程序―DOS系统隐含文件―CONFIG AUTOEXEC。
　　当硬盘读写没有问题(用软盘启动后可以正常读写)，只是不能引导系统，故障点一定在上框所示的四个地方，检查的顺序是主引导程序、分区引导程序、DOS系统隐含文件、CON－FIG.SYS和AUTOEXEC.BAT。对于主引导扇区中的主引导程序，可用FDISK\MBR强行写入一个正确的备份。对于分区BOOT区中的引导程序和系统隐含文件，可用SYS C:传送系统，把错误数据覆盖掉(前提是BPB表完好)。而对于硬盘读写失败的情况，可能的故障点只有两个：分区表和BPB表。如果用软盘启动后，能够出现C盘提示符，可以肯定C盘的分区表存在并且基本完好；如果C盘读写正常，BPB表可以肯定是好的。读者可根据前面介绍的方法或其他合适的工具进行恢复。
　　11、17XX Hard Disk Ertor
　　HDC controller fail(硬盘控制器控制失败)
　　这类故障是硬件故障。POST程序向控制器发出复位命令后，在规定的时间内没有得到控制器的中断响应，可能是控制器损坏或电缆没接好。控制器失败与硬盘参数设置是否正确

